<html>
	<head>
		<title>MASOS</title>
		<link rel="stylesheet" href="css/main.css">
				<script type="text/javascript"
	src="lib/raphael.js"></script>

	</head>
	<body>
		<div id="testbar"><a class="testbar" href="test/test.html" target="_blank">Run the Tests!</a></div>
		Hello World!
	</body>
	<script type="text/javascript" src="js/SpriteHandler.js"></script>
	<script type="text/javascript" src="js/Agent.js"></script>
    <script type="text/javascript" src="js/AgentHandler.js"></script>
	<script type="text/javascript" src="js/DoBlock.js"></script>
	<script type="text/javascript" src="js/IfBlock.js"></script>
	<script type="text/javascript" src="js/AndBlock.js"></script>
	<script type="text/javascript" src="js/State.js"></script>
<script>
	var sh = new SpriteHandler();
	var a = new AgentHandler(sh, 100,100,10);
	a.agents[0].state.color = "green";
	a.agents[24].state.color = "blue";
	a.draw();

	var ab = new AndBlock();

	var dbRed = new DoBlock();
	dbRed.changeColor("red");
	var dbBlue = new DoBlock();
	dbBlue.changeColor("blue");
	var dbWhite = new DoBlock();
	dbWhite.changeColor("white");
	var dbGreen = new DoBlock();
	dbGreen.changeColor("green");
	var dbNothing = new DoBlock();
	dbBroadcast = new DoBlock();
	dbBroadcast2 = new DoBlock();
	var ifBlue = new IfBlock();
	ifBlue.ifColor("blue", dbBlue, dbGreen);

	dbBroadcast.setBroadcast(ifBlue);



	dbBroadcast2.setBroadcast(dbRed);

	var ibGreen = new IfBlock();
	var andBlock = new AndBlock();
	andBlock.and(dbBroadcast, dbGreen);

	ibGreen.ifColor("green", andBlock, dbNothing);

	var ibRed = new IfBlock();
	var andBlock2 = new AndBlock();
	andBlock2.and(dbBroadcast2, dbRed);

	ibRed.ifColor("green", andBlock2, dbNothing);

	a.setDoBlock(ibGreen);
</script>
<button style="margin-top:200px" onclick="a.step()">Step</button>
		
</html>